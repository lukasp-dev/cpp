#### Remote procedure call (RPC)
![image](https://book.systemsapproach.org/_images/f05-13-9780123850591.png)

***What RPC does*** 
- RPC lets a program call a function on another computer -> but it looks like normal function call. (내 프로그램에서 함수 `foo()`를 호출했지만, 실제 계산은 다른 서버(Host2)가 해주는 기술).
- Host1 calls the function as if it's calling just a local function.

***How the Client Side Works (shim function)***
- Packs the arguments into a network packet
    - RPC has to package up the arguments in ***big endian*** format in internet standards. 
- Sends the packet to the server
- Waits for the server's reply
- Receives and unpacks the result
- Returns the value to the caller -> The caller **never knows** the work happened on another machine.

***How the Server Side Works(listener process)***
- Waits for a message with function arguments
- Unpacks the arguments
    - the host 2 has to unpack the arguments das if they are Big indian, even if it's a little endian machine.
- Calls the actual function (e.g., `foo(args)`)
- Packs the result into a packets
- Sends it back to the client
- Repeats this forever

#### NFS
![image](https://developer.ibm.com/developer/default/tutorials/l-network-filesystems/images/figure2.gif)
- NFS = Network File System
- It lets your computer use a folder on another machine as if it's a local folder.
- Example: you call `read()` on a file -> but the file is actually on a remote server.

#### Where RPC comes in NFS
NFS internally uses RPC to talk to the remote server.
- When your program calls `read()`, the OS must fetch data from another machine.
- So the OS turns this file operation into an RPC request.
- ***Key takeaway***: NFS uses RPC to make remote file access look like local file access. RPC hides the network communication just like before, but how the "function call" is a file operation like `read()`.


#### IPv6
- 32-bit IPv4 address space was "used up" first about 1996 and then again in 2013.
- More efficiently processed header, Header changes to facilitate QoS.

#### Basic differences with IPv4
- Fixed-length 40 byte header
- No fragmentation allowed
No broadcast, only multicast
Addresses are 128bits; network part is always the first 64 bits
- 1.8x10^19 subnets; 1.8x10^19 hosts on each subnet
- Neighbor Discovery Protocol replaces ARP
- NAT is discouraged, but local addresses available (fc00::/7)
- Every interface must have a link-local address (fe80::/10) 

#### IPv6 structure
![image](https://www.avg.com/hs-fs/hubfs/Blog_Content/Avg/Signal/AVG%20Signal%20Images/IPv4%20vs.%20IPv6%20addresses%20(Signal)/IPv4-vs-IPv6-EN.png?width=1980&name=IPv4-vs-IPv6-EN.png)
- 128 bits
- 8 16-bit hex numbers separated by colons
- A dual colon means fill in with zeroes
- **Network prefix**(first 64 bits), **Interface identifier (host)**(last 64 bits)
- Leading zeros in each group can be omitted.
- A double colon (::) replaces one or more consecutive groups of zeros, but it can only appear only once in an address.
    - 2610:0148:1F00:0000:0000:0000:0000:0001
    - equals to 2610:148:1F00:0:0:0:0:1
    - equals to 2610:148:1F00::1

### The top application layer

#### Network socket programming
![image](https://media.geeksforgeeks.org/wp-content/uploads/Socket_server-1.png)
- Server
    - `socket()`: 소켓 생성
    - `setsockopt()`: 옵션 설정 (예: 포트 재사용)
    - `bind()`: IP와 포트에 소켓 연결
    - `listen()`: 연결 요청 대기 상태로 전환
    - `accept()`: 클라이언트 연결 수락 -> 새 소켓 생성
    - `second()/recv()`: 데이터 송수신
- Client
    - `socket()`: 소켓 생성
    - `connect()`: 서버에 연결 요청
    - `send()/recv()`: 데이터 송수신

main takeaways: 
- server listens(대기), client connects(요청)
- 연결 후에는 양방향 통신(send/recv) 가능
- TCP 기반: 연결 지향적, 신뢰성 보장

#### Essential Layer 7 Applications
- Some applications are usually 
around to support the IP stack
- **Routing information applications (RIP, OSPF, BGP)**
    - These protocols are responsible for passing information among routers to maintain routing tables. There are many others.
        - RIP (Routing Information Protocol) uses a ***distance-vector*** algorithm
            - ***RIP***은 Layer 7에서 동작하는 프로세스지만, 그 결과로 Layer 3(네트워크 계층)의 라우팅 테이블을 수정한다.
            - RIP 자체는 애플리케이션처럼 동작하면서 UDP를 통해 메세지를 주고 받음.
            - 메시지 내용은 이 네트워크로 가려면 몇 홉 (hop) 같은 layer 3 정보임.
            - 라우터의 운영체제는 RIP 프로세스가 받은 정보를 이용해 IP 라우팅 테이블 (L3에 있음)을 갱신함.
        - OSPF (Open Shortest-Path First) uses a ***link-state*** algorithm(Dijkstra)
        ![image](https://d2vlcm61l7u1fs.cloudfront.net/media%2F769%2F7690acb6-5bf6-447f-9e7c-dd36733df974%2FphpmoKJr3.png)
        - BGP (Broader Gateway Protocol) uses a ***hierarchial*** routing algorithm
            - 계층적 라우팅은 네트워크를 Autonomous System(AS) 이라는 큰 구역으로 나누고, ***AS 내부***와 ***AS 외부***의 경로 결정을 분리해서 처리하는 방식이다.
            - 인터넷 같은 초대형 네트워크에서 ***라우팅 테이블의 크기를 중리고 확장성 확보***
            - **Autonomous System**
                - 단일 조직이 관리하는 네트워크들의 집합 (예: 대학, ISP, 대기업)
                - AS 번호로 식별 (조지아텍은 AS 2367)
                - 계층적ㅇ 라우팅의 **기본 단위**, BGP 가 경로를 교환하는 **최소 단위**
            - ***Inter-AS vs Intra-AS 라우팅 비교***

                | 구분 | Inter-AS Routing (BGP) | Intra-AS Routing (OSPF) |
                | :--- | :--- | :--- |
                | **적용 범위** | **AS (자치 시스템) 간** (외부) | **AS (자치 시스템) 내부** (내부) |
                | **사용 프로토콜** | **BGP** (Border Gateway Protocol) | **OSPF** (Open Shortest Path First) |
                | **알고리즘 유형** | **경로-벡터** (Path-Vector) | **링크-상태** (Link-State) |
                | **목표** | 인터넷 전반의 **정책** 기반 경로 선택 및 **AS 간 연결** 유지. | AS 내부에서 **가장 빠른(최단)** 경로 계산 및 유지. |
                | **실행 장치** | AS의 **경계 라우터** (Gateway Routers) | AS 내부의 **모든 라우터** |
                

- **DHCP: How a device gets an IP address**
    ![image](data:image/png;base64,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) 
    
    DHCP = Dynamic Host Configuration Protocol(자동으로 IP 주소 배정, DNS, Gateway 등을 배정)
    - how one device is registered with an IP address ("DORA": Discover -> Offer -> Request -> Ack)
    - ***DHCPDISCOVER-"Anyone there? I need an IP"***
    - ***DHCPOFFER-"Here, I can give you this IP"***
    - ***DHCPREQUEST-"I want THIS IP"***
    - ***DHCPACK-"Okay, it's yours"*** 

- **DNS**
    - DNS is a distributed database that stores hostnames and related information, such as IP addresses.
    - Root nameservers know where to find the authoritative DNS servers for top-level domains (the rightmost parts of hostnames). For example, when resolving `oscar.gatech.edu`, the root nameservers direct the query to the DNS servers for `gatech.edu` using an NS record. Those servers (actually a geographically distributed cluster) can then provide an ***A record*** containing the IP address for oscar.gatech.edu.
    - Reverse DNS lookups translate IP addresses back into hostnames. An IP address is queried in reverse order of its octets, for example 130.207.5.8 becomes 8.5.207.130.in-addr.arpa. The corresponding DNS server returns a PTR record identifying the hostname registered to that IP.
    - A CNAME record (canonical name) maps hostname to another. It's often used so multiple hostnames can point to the same underlying system (for example, `www.example.com` might e a CNAME for server1.example.com).
    - The DNS Resolver is the part of a client system that performs DNS queries. It's usually implemented in the system's standard C library. When a program calls functions like `gethostbyname()`, the resolver sends a query to DNS and returns a data structure containing the results.

### Data Link Layer (Ethernet)


#### What the link layer does
1) Frames 만들고 전달함
    - Link layer는 "frame" 이라는 단위로 데이터를 보냄. 예) Ethernet frame, Wi-Fi frame
2) MAC 주소로 통신함
    - IP 주소는 라우팅 용 (멀리 보낼 때)
    - MAC 주소는 같은 LAN 에서 직접 보낼 때 사용됨
3) Error detection
    - 프레임이 손상되었는지 검사 (CRC)
4) Medium access control
    - 누구부터 전송할지 조정
        - Ethernet(유선 LAN) -> CSMA/CD
        - Wi-Fi(무선 LAN) -> CSMA/CA

#### Ethernet
Ethernet is a particular type of data link network. It was designed for relatively small area, like a building, hence the term Local Area Network (LAN).
- Every ethernet device gets a unique burned-in ***Media Access Control (MAC)*** address.

#### Ethernet Frame
![image](https://miro.medium.com/0*JIz72GwPWum55hES)
![image](data:image/png;base64,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)

#### How to send a frame in ethernet
1) Wait until no one is using the cable
2) Assert carrier signal
3) Broadcast the frame
    - Shared medium (옛날 허브 기반 LAN)에서는 프레임을 LAN전체에 브로드캐스트로 흘림.
4. If collision happens -> stop and retry
    - 동시에 여러 장치가 보내면 충돌 발생
    - 그럼 전송을 멈추고 랜덤한 시간 기다렸다가 다시 시도 -> 이 과정이 바로 CSMA/CD 의 CD(Collision Detection)임.

#### Once the switch receives a frame
1) Destination MAC 이 bridge table에 있으면 -> 그 포트로만 보냄
2) 없으면 -> LAN 전체로 flood
3) Source MAC 학습(Learning)
4) 오랜된 엔트리 삭제(Aging)

#### How to receive a frame
- Check destination MAC
    - 목적지 MAC이 내 MAC이거나, 브로드캐스/멀티캐스트 MAC이면 수신해서 처리 
    - When the device ACCEPTS the frame
        1. **Destination MAC == my MAC address**
            - The frame is meant for this device.
        2. **Destination MAC == Broadcast (FF:FF:FF:FF:FF:FF)**
            - The frame is meant for *all* devices on the LAN.
            - Example: ARP Request, DHCP Discover
        3. **Destination MAC == Multicast address**
            - Frame is meant for all members of a multicast group.
            - Device accepts it only if it has joined that group.
    - When the device DROPS the frame
        - Destination MAC does **not** match:
        - Not my MAC
        - Not broadcast
        - Not a multicast group I belong to

            → The device simply ignores the frame.

### Terminologies

#### Collision Domain and Broadcast Domain

**Collision domain**  
- All Network Interface Cards (NICs) that share a physical Ethernet medium.  
- Only one device can transmit at a time; simultaneous transmissions cause collisions.

**Broadcast domain**  
- All NICs that can hear an Ethernet broadcast frame (FF:FF:FF:FF:FF:FF).  
- A broadcast sent by one device is received by all devices in the same broadcast domain.


#### Networking Devices and Their Effects on Domains

**Repeater / Hub (Layer 1)**  
- Simply replicate/amplify electrical signals.  
- Both sides remain in a *single collision domain*.  
- Broadcast domain is unchanged.

**Bridge / Switch (Layer 2)**  
- Re-transmit Ethernet frames using MAC address learning.  
- Each port becomes its own *collision domain*.  
- But all ports remain in the *same broadcast domain*.

**Router (Layer 3)**  
- Forwards packets based on the Layer-3 (IP) routing table.  
- Separates both *broadcast domains* and *collision domains*.  
- Broadcast frames are not forwarded across routers.

**Host**  
- A computer with one or more NICs.  
- If it forwards traffic between NICs, it functions as a router (not just a host).


#### ARP (Address Resolution Protocol)
this is how IP protocol can ride on the Ethernet

ARP is a protocol used inside a local network (LAN) to find the **MAC address** that corresponds to a given **IP address**.  
Since Ethernet communication requires a destination MAC address, a device must use ARP when it only knows the destination IP.

***Why ARP is needed***
- Ethernet frames require a destination MAC address.
- Upper-layer protocols (IP/TCP/UDP/applications) typically know **only the IP address**, not the MAC.
- ARP provides the mapping **IP → MAC** so the device can send an Ethernet frame.

***How ARP works***
1. **ARP Request (Broadcast)**  
   The sender asks the entire LAN:  
   “Who has IP address X?”  
   Sent to the broadcast MAC address `FF:FF:FF:FF:FF:FF`.

2. **ARP Reply (Unicast)**  
   The device with IP X responds directly with its MAC address.

3. **ARP Table Update**  
   The sender stores the pair `(IP → MAC)` in its ARP cache.  
   Entries expire after some time if not used.

4. **Use the Mapping**  
   Once the MAC address is known, the device can build an Ethernet frame and send packets normally.

***Summary***

ARP enables devices in the same LAN to translate an IP address into its corresponding MAC address, making Ethernet communication possible.

---

#### Ethernet Physical Layer Standards Explained Clearly

Ethernet 표준 이름(예: 1000base-T, 10Gbase-SR)은 다음 규칙으로 구성된다:

- 앞 숫자: 전송 속도 (10Mbps, 100Mbps, 1Gbps, 10Gbps, 40Gbps, 100Gbps 등)
- base: Baseband signaling 사용을 의미
- 뒤 문자: 어떤 매체(copper vs fiber)와 어떤 거리 특성(short/long)을 쓰는지 나타냄


##### Twisted Pair Copper (1m ~ 100m)

뒤에 **T**가 붙으면 모두 UTP(Cat5/5e/6 등) 기반의 구리 케이블을 사용한다.

| 표준명        | 속도      | 매체 | 최대 거리 | 설명 |
|---------------|-----------|------|------------|-------|
| 10base-T      | 10 Mbps   | Copper | ~100m | 초기 이더넷 UTP |
| 100base-T     | 100 Mbps  | Copper | ~100m | Fast Ethernet |
| 1000base-T    | 1 Gbps    | Copper | ~100m | 오늘날 가장 흔한 Gigabit Ethernet |
| 10Gbase-T     | 10 Gbps   | Copper | ~100m | Cat6a 이상 필요 |

핵심 포인트: **T = Twisted Pair**, 즉 구리선 기반.

---

##### Fiber Optic (100m ~ 40km)

Fiber 표준은 뒤에 붙는 두 글자가 거리 특성을 나타낸다:

- SX: Short-range, multi-mode fiber
- LX: Long-range, single-mode fiber
- SR: Short Reach (MMF)
- LR: Long Reach (SMF)
- SR4, LR4, SR10, SR8: 여러 개의 병렬 lane을 사용하여 대역폭 확장

| 표준명            | 속도      | 종류 | 거리 범위 | 특징 |
|--------------------|-----------|--------|------------|--------|
| 1000base-SX        | 1 Gbps    | MMF | ~100–550m | 단거리 |
| 1000base-LX        | 1 Gbps    | SMF | ~10km | 장거리 |
| 10Gbase-SR         | 10 Gbps   | MMF | ~100m | 단거리 |
| 10Gbase-LR         | 10 Gbps   | SMF | ~10km | 장거리 |
| 40Gbase-SR4        | 40 Gbps   | MMF | 단거리 | 4 lane |
| 40Gbase-LR4        | 40 Gbps   | SMF | 장거리 | 4 lane |
| 100Gbase-SR4/SR10  | 100 Gbps  | MMF | 단거리 | 4 또는 10 lanes |
| 100Gbase-LR4       | 100 Gbps  | SMF | 장거리 | 4 lane |
| 400Gbase-SR4/LR4   | 400 Gbps  | MMF/SMF | 다양 | 차세대 고속 |
| 800Gbase-SR8/LR8   | 800 Gbps  | MMF/SMF | 다양 | 개발 중 |

핵심 포인트:
- Fiber는 훨씬 더 긴 거리까지 전송 가능 (최대 수십 km)
- SR = 단거리, LR = 장거리
- SR4/LR4/SR10 등은 lane 수를 의미하여 병렬 전송으로 대역폭 증가 가능

---

##### Summary

- 1000base-T = 가장 흔한 구리 기반 1Gbps Ethernet
- 10Gbase-T = 고급형 구리 기반 10Gbps Ethernet (Cat6a 필요)
- Fiber 기준: SX/SR = 짧은 거리, LX/LR = 긴 거리
- SR4/LR4/SR10 등은 병렬 lane 수를 나타냄  
- 이 규칙만 알면 어떤 Ethernet 표준이든 바로 해석 가능하다
